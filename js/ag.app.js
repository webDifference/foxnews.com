/*! updated; 11-13-2017 02:13 PM **/


Modulr.define("fox-news.hp:config",["require","jquery","cdn"],function(require,$){var config={};return config.cdn=require("cdn"),config});
Modulr.define("fox-news.hp:helper",["require","jquery","akamai.time","modernizr","core.plugins:ImageLazyLoad"],function(require,$,time,Modernizr){var Unveil=require("core.plugins:ImageLazyLoad"),Helper=function(){};return Helper.prototype.getCurrentTime=function(){return time.getCurrent()},Helper.prototype.IEVersion=function(version,comparison){var isIE,cc="IE",b=document.createElement("B"),docElem=document.documentElement;return version&&(cc+=" "+version,comparison&&(cc=comparison+" "+cc)),b.innerHTML="\x3c!--[if "+cc+']><b id="iecctest"></b><![endif]--\x3e',docElem.appendChild(b),isIE=!!document.getElementById("iecctest"),docElem.removeChild(b),isIE},Helper.prototype.pageData=function(){var data={};return data.aggType=$("meta[name='prism.aggregationType']").attr("content"),data.genre=$("meta[name='prism.genre']").attr("content"),data.dcType=$("meta[name='dc.type']").attr("content"),data.channel=$("meta[name='prism.channel']").attr("content"),data.section=$("meta[name='prism.section']").attr("content"),data.subsection1=$("meta[name='prism.subsection1']").attr("content"),data.ogType=$("meta[property='og:type']").attr("content"),data},Helper.prototype.isDoomsday=function(){var doomsday=$("body").attr("data-doomsday-enabled"),ret=!1;return doomsday&&(ret=!0),ret},Helper.prototype.unveil=function(target,callback,threshold){if("function"!=typeof callback)return!1;threshold=threshold||200,UNVEIL_COUNTER++;var loaderClass="unveil-loader-"+UNVEIL_COUNTER;target.prepend('<img src="//global.fncstatic.com/static/v/all/img/clear.gif" data-src="//global.fncstatic.com/static/v/all/img/clear.gif" class="'+loaderClass+'" style="width:1px; height: 1px;" />');var loader=target.find("."+loaderClass);Unveil(loader,threshold,function(){callback(),loader.remove()})},Helper.prototype.log=function(){if(window.console){var args=Array.prototype.slice.call(arguments);try{return console.log.apply(console,args)}catch(err){}}},Helper.prototype.isMobileView=function(width){return null!=width?$(window).width()<=width:$(window).width()<=480},Helper.prototype.isTouchDevice=function(){return!(!Modernizr.touch&&!Modernizr.touchevents)},Helper.prototype.isAuthor=function(){return!!$("body").hasClass("cmsauthor-gui__mode-author")},Helper.prototype.getView=function(){var width=$(window).width();return width>=1024?"desktop":width>767&&width<1024?"tablet":"mobile"},Helper.prototype.cacheBuster=function(freq){freq=freq||2;var date=new Date,str=date.getFullYear().toString()+(date.getMonth()+1).toString()+date.getDate().toString(),hr=date.getHours()+1,min=date.getMinutes();return str+=hr.toString()+(freq&&!isNaN(freq)?Math.floor(min/parseFloat(freq)).toString():"")},Helper.prototype.getHeight=function(width){return Math.round(width/16*9)},Helper.prototype.serialize=function(){return Math.random().toString(36).slice(2)},Helper.prototype.execModules=function(modules){for(var i=0;i<modules.length;i++){var module=modules[i];"object"==typeof module&&"function"==typeof module.init?module.init():"function"==typeof module&&module()}},new Helper});
Modulr.define("fox-news.hp:main",["require","jquery","helper","core.base:modules/header","core.components:auth","core.base:utils/page.reload","modules/sticky.rail","modules/left.rail.video"],function(require,$,Helper){(require("core.components:auth").initNew(),Helper.isAuthor())||require("core.base:utils/page.reload").set(10);var MODULES_INIT=["modules/ads","modules/image.lazy.load","modules/timestamp","modules/tracking","modules/podcast"];if(!Helper.isAuthor()){MODULES_INIT=MODULES_INIT.concat(["core.base:modules/header","core.base:modules/breaking-news","modules/exclusive.clips","modules/opinion","modules/header-market","modules/doomsday.video","modules/breaking.news.ticker","modules/river","modules/countdown","modules/newsletter","modules/weather","modules/features.and.faces","modules/modal.video"]);var StickyRails=require("modules/sticky.rail"),leftRail=$(".sticky-columns > .sidebar-primary:first"),rightRail=$(".sidebar-secondary"),river=$(".main-content");StickyRails({stickyArea:$(".sticky-columns"),header:$("header"),preContent:$(".page .pre-content"),bottomBoundary:$(".page-content .row:nth-of-type(2)"),rails:{1:{pos:"left",rail:leftRail,stickyRegion:leftRail.find("> .sticky-region")},2:{pos:"river",rail:river,stickyRegion:river.find("> .sticky-region")},3:{pos:"right",rail:rightRail,stickyRegion:rightRail.find("> .sticky-region")}}});var leftVid=require("modules/left.rail.video"),leftRail_alt=river.find(".sidebar-primary-alt");leftVid.render([leftRail,leftRail_alt])}MODULES_INIT.length>0&&require(MODULES_INIT,function(){var args=Array.prototype.slice.call(arguments);Helper.execModules(args)})});
Modulr.define("fox-news.hp:mobile-main",["require","jquery","helper","modules/doomsday.video","modules/left.rail.video","modules/header-market","modules/timestamp","modules/ads","modules/newsletter","core.base:modules/header","modules/river.bigtop.video","core.components:auth","core.base:modules/breaking-news","core.base:utils/page.reload"],function(require,$,Helper){if(!Helper.isAuthor()){require("core.base:utils/page.reload").set(10)}(require("core.base:modules/header").init(),(new(require("modules/header-market"))).render(),Helper.isDoomsday())&&(new(require("modules/doomsday.video"))).render();(new(require("modules/left.rail.video"))).render(),(new(require("modules/river.bigtop.video"))).render(),require("core.components:auth").initNew(),require("modules/timestamp").init({update_enabled:"true"}),require("modules/newsletter").set($(".promo-newsletter"))});
Modulr.define("fox-news.hp:models/data",["require","jquery"],function(require,$){return new function(){Proto=this,Proto.get=function(){return"sample data"}}});
Modulr.define("fox-news.hp:models/load.more",["require","jquery"],function(require,$){return function(container,conf){function show(){var hidden=hiddenItems();("number"==typeof conf.next?hidden.slice(0,conf.next):hidden).each(function(){var el=$(this);el.find('[data-lz-init][data-lz-done!="1"]').trigger("fnc.unveil"),el.removeClass("hide")}),0===hiddenItems().length&&btn.addClass("hide")}function hiddenItems(){return items.filter(function(){return!!$(this).hasClass("hide")})}function triggerCallback(id,data){if(EVENTS[id])for(var i=0,event=EVENTS[id];i<event.length;i++)event[i](data)}conf=conf||{};var Proto=this,EVENTS={click:null},footer=(container.find("> header:first"),container.find("> footer:first")),list=container.find("> .content:first"),items=list.children("article"),enable=!!(container.hasClass("has-load-more")&&items.length>3);if(Proto.on=function(id,callback){!(!enable||void 0===EVENTS[id]||"function"!=typeof callback)&&(EVENTS[id]||(EVENTS[id]=[]),EVENTS[id].push(callback))},enable){var btnCn=footer.find(".js-load-more"),btn=btnCn.find("a");items.slice(conf.show||3).addClass("hide"),btnCn.removeClass("hide"),btn.on("click",function(evt){evt.preventDefault(),show(),triggerCallback("click")})}}});
Modulr.define("fox-news.hp:models/video.controls",["require","jquery"],function(require,$){var VIDEO_INSTANCES={},EVENT_LISTENERS={};return new function(){function trigger(event){for(var id in VIDEO_INSTANCES){var item=VIDEO_INSTANCES[id],instance=item.instance,target=item.target;if(!!!(target.length>0&&target.is(":visible")&&"function"==typeof instance.trigger))return;try{"function"==typeof instance.trigger&&(instance.isReady()?instance.trigger(event):instance.on("player.ready",function(){instance.trigger(event)}))}catch(err){}}}function bindEvents(instance){for(var events=["play","pause"],i=0;i<events.length;i++)!function(event){instance.on("amp."+event,function(){triggerEvent(event,instance,Array.prototype.slice.call(arguments))})}(events[i])}function triggerEvent(event,instance,args){if(EVENT_LISTENERS[event])for(var arr=EVENT_LISTENERS[event],i=0;i<arr.length;i++){var listener=arr[i];listener({instance:instance,args:args})}}Proto=this,Proto.addInstance=function(target,instance){if(instance&&"function"==typeof instance.getOpts){var opts=instance.getOpts(),uid=opts.app.uid;VIDEO_INSTANCES[uid]||(VIDEO_INSTANCES[uid]={instance:instance,target:target},bindEvents(instance))}},Proto.pause=function(){trigger("pause")},Proto.play=function(){trigger("play")},Proto.mute=function(){trigger("mute")},Proto.unmute=function(){trigger("unmute")},Proto.on=function(event,callback){EVENT_LISTENERS[event]||(EVENT_LISTENERS[event]=[]),EVENT_LISTENERS[event].push(callback)},Proto.trigger=function(event){EVENT_LISTENERS[event]&&triggerEvent(event,null,null)}}});
Modulr.define("fox-news.hp:modules/ads",["require","jquery","helper","isa","core.plugins:LoadAttempt"],function(require,$,Helper,ISA){var GPT=ISA.provider("gpt"),CLICK_TRACK_INITIALIZED=(require("core.plugins:LoadAttempt"),!1),CLICK_TRACK_TIMEOUT=!1,OVER_LINK_TAG=!1,OVER_INTCMP_VAL=!1,OVER_INTCMP_EXTERNAL=!1;return new function(){var Proto=this,SERIALIZE_HASH=Helper.serialize();Proto.init=function(){Proto.clickTrack();var container=$(".page > .pre-content .ad-container.desktop:first");if(Helper.isAuthor())container.removeClass("collapse");else{var target=container.find("> .ad.gpt:first");GPT.onAdSlotRendered(target,function(info){if(!info.data.isEmpty){var size=Array.isArray(info.data.size)&&2===info.data.size.length?info.data.size:null;(!size||1!==size[0]||1!==size[1])&&container.removeClass("collapse")}})}},Proto.track=function(type,data){ISA.track(type,data)},Proto.clickTrack=function(force){var CLICK_TRACK_ATTEMPT=!1,trigger=function(){CLICK_TRACK_ATTEMPT||(CLICK_TRACK_ATTEMPT=!0,ISA.track("fn-hp-link-clicks",{intcmp:OVER_INTCMP_VAL,external:OVER_INTCMP_EXTERNAL,serialize:SERIALIZE_HASH})),clearTimeout(CLICK_TRACK_TIMEOUT),CLICK_TRACK_TIMEOUT=setTimeout(function(){CLICK_TRACK_ATTEMPT=!1},500)};if(force)trigger();else if(!CLICK_TRACK_INITIALIZED){CLICK_TRACK_INITIALIZED=!0;var evtStart="ontouchstart"in document.documentElement?"ontouchstart":"mousedown";$("body").on(evtStart,"a, input[type='submit']",function(){var el=$(this),intcmp=el.attr("data-omtr-intcmp")||null,href=el.attr("href")||"";OVER_INTCMP_VAL=intcmp,href.length>1&&(OVER_INTCMP_EXTERNAL=ISA.provider("intCmp").isExternalLink(href))}),$("body").on("mouseover","a, input[type='submit']",function(){OVER_LINK_TAG=!0}).on("mouseout","a, input[type='submit']",function(){OVER_LINK_TAG=!1}),$(document).on("click",function(){OVER_LINK_TAG&&trigger()})}}}});
Modulr.define("fox-news.hp:modules/breaking.news.ticker",["require","jquery","helper"],function(require,$,Helper){return new function(){var Proto=this,holder=($("target div"),$(".article-ticker")),scroll_outer=holder.find(".scroll-outer"),scroll_inner=holder.find(".scroll-inner"),list=scroll_inner.find("ul"),blogURL=!1,CONST={};CONST.touchevent=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"touchstart":"hover",Proto.init=function(){Helper.isDoomsday()&&Proto.render()},Proto.render=function(){var articleId=!(holder.attr("data-livefyre-id").indexOf("null")>-1)&&holder.attr("data-livefyre-id");blogURL=holder.data("blogUrl");var CONST={url:"//apps.foxnews.com/rest-call/livefyre-api/collection/?type=info&siteId=310256&articleId="+articleId+"&filter=liveblog"};articleId?Proto.loadFeed(CONST.url):holder.addClass("hide")},Proto.loadFeed=function(url,callback){$.ajax({url:url,data:{cb:Helper.cacheBuster(12e4)},dataType:"jsonp",cache:!0}).done(function(data){if(window.clearInterval(0),!data||data.status&&"error"===data.status)return holder.addClass("hide"),console.error("breaking.news.ticker.js - Data from feed or url invalid: "+url);holder.removeClass("hide"),Proto.normalize(data)})},Proto.normalize=function(data){var headlines=data.norm.contents,href=blogURL||"#";_.forEach(headlines,function(value){var raw=value.body,norm=$("<div/>").html(raw),title=norm.find("h2").text(),template=(title.length,"<li style=width:auto><a href='"+(href||"")+"'>"+title+"</a></li>");list.append(template)}),Proto.setScrollWidth(function(num){Proto.animate(num)})},Proto.setScrollWidth=function(callback){var i=0,winWidth=Math.floor($(window).width())>2500?3e3:2500;list.find("li").each(function(){var margin=parseInt($(this).css("margin-right"),10);i+=Math.ceil($(this).width()+margin)}),scroll_inner.width(i);for(var num=Math.ceil(parseInt(winWidth,10)/parseInt(i,10)),x=0;x<num;x++)Proto.clone();"function"==typeof callback&&callback(num)},Proto.clone=function(){var newList=scroll_inner.clone();scroll_outer.append(newList)},Proto.animate=function(iter){var timer;iter+=1;var currentScroll=0;scroll_outer.children().each(function(){$(this).css("left",currentScroll),currentScroll+=$(this).outerWidth(!0)});var itemWidth=currentScroll/iter,viewportW=scroll_outer.width(),scroll=function(){var leftVal=scroll_outer.scrollLeft(),newLeft=leftVal+1;newLeft>itemWidth*iter-viewportW&&(newLeft-=itemWidth),timer=setTimeout(function(){scroll_outer.scrollLeft(newLeft),scroll()},12)};scroll(),"hover"===CONST.touchevent&&scroll_outer.hover(function(){clearTimeout(timer),timer=0},function(){scroll()})}}});
Modulr.define("fox-news.hp:modules/countdown",["require","jquery","lodash","helper","core.plugins:CountdownTimer"],function(require,$,_){var Helper=require("helper"),CountdownTimer=require("core.plugins:CountdownTimer");return new function(){var CONFIG={container_selector:".sidebar-panel .promo-channel",attribute_name:"data-event-time",attribute_formatted:"eventTime",auto_update:!1,update_interval_in_min:1},now=Helper.getCurrentTime(),components=[],Proto=this,paddedZero=function(num){return num>9?num:"0"+num};Proto.collector=function(){$(CONFIG.container_selector+"["+CONFIG.attribute_name+"]").each(function(){var element=$(this);if(attr=element.data(CONFIG.attribute_formatted),attr){var then=new Date(attr),component={elements:{container:$(element),days:$(element).find(".days .value"),hours:$(element).find(".hour .value"),mins:$(element).find(".min .value")},then:then,delta:then.getTime()-now.getTime(),diff:{},text:""};components.push(component)}})},Proto.calculator=function(){_.each(components,function(component,index){if(component&&component.delta){decrement&&(component.delta-=decrement);var delta=component.delta;component.diff={seconds:Math.floor(delta/1e3)%60,mins:Math.floor(delta/6e4)%60,hours:Math.floor(delta/36e5)%24,days:Math.floor(delta/864e5)},delta<0?(component.elements.days.text("00"),component.elements.hours.text("00"),component.elements.mins.text("00"),Math.abs(component.diff.mins)>=10&&($(component.elements.container).find(".countdown").remove(),components.splice(index,1),0===components.length&&clearInterval(!1))):(component.elements.days.text(paddedZero(component.diff.days)),component.elements.hours.text(paddedZero(component.diff.hours)),component.elements.mins.text(paddedZero(component.diff.mins)))}})},Proto.tick=function(target,info,endTime){target.find(".days .value").text(info.days),target.find(".hour .value").text(info.hrs),target.find(".min .value").text(info.mins)},Proto.done=function(target,info,endTime){var then=endTime.getTime();Helper.getCurrentTime().getTime()>=then+6e5&&target.find(".countdown").remove()},Proto.trigger=function(configuration){configuration&&(CONFIG=_.merge(CONFIG,configuration)),$(CONFIG.container_selector+"["+CONFIG.attribute_name+"]").each(function(){var el=$(this),endTime=el.attr(CONFIG.attribute_name)||null;if(endTime){endTime=new Date(endTime);var countdown=new CountdownTimer({endTime:endTime});countdown.onTick(function(info){info.done?Proto.done(el,info,endTime):Proto.tick(el,info,endTime)}),countdown.onDone(function(info){Proto.done(el,info,endTime)})}})},Proto.init=function(){Proto.trigger({auto_update:"true"})}}});
Modulr.define("fox-news.hp:modules/doomsday.video",["jquery","require","lodash","helper","core.video:api","core.plugins:OnWindowResize","core.base:utils/page.reload","models/video.controls"],function($,require,_,Helper,Video){var target=$("section.collection-doomsday .has-live-stream .embed-stream"),OnWindowResize=require("core.plugins:OnWindowResize"),PageReload=require("core.base:utils/page.reload"),VideoControls=require("models/video.controls");return new function(){var vol,Proto=this,win=$(window),initialClick=(win.width(),!0),mobTab=!!Helper.isTouchDevice();Proto.init=function(){if(!Helper.isDoomsday()||1!==target.length)return!1;Helper.isAuthor()||PageReload.clear();var Instance=Video.embed(target,{app:{rules:["autoplay","heartbeat"]},player:{controls:{mode:"none",admode:"none"},ima:{enabled:!0,params:{adTag:{ad_rule:"0"}}},params:{adRule:0}}},function(){var w=target.closest(".live-stream").outerWidth(),h=Helper.getHeight(w);target.css({width:w,height:h})});OnWindowResize(function(){var w=target.closest(".live-stream").outerWidth(),h=Helper.getHeight(w);target.css({width:w,height:h})}),VideoControls.addInstance(target,Instance),Instance.on("player.ready",function(data){Instance.trigger("muteState",function(data){(vol=data.state)||Instance.trigger("mute")})}),$(".live-stream").on("click",function(){initialClick&&mobTab?(Instance.trigger("play"),initialClick=!1):Instance.trigger("pauseState",function(isPaused){isPaused&&Instance.trigger("play")}),vol?(Instance.trigger("mute"),vol=!1):(Instance.trigger("unmute"),vol=!0)})}}});
Modulr.define("fox-news.hp:modules/exclusive.clips",["require","jquery","helper","models/load.more"],function(require,$,Helper){var LoadMore=require("models/load.more"),container=$(".js-exclusive-clips:visible");if(0!==container.length){var list=(container.find("> header"),container.find("> footer"),container.find("> .content"));list.children("article");!function(){if("mobile"===Helper.getView()){new LoadMore(container,{show:3,next:3}).on("click",function(){})}}()}});
Modulr.define("fox-news.hp:modules/features.and.faces",["require","jquery","lodash"],function(require,$,_){return new function(){var container,component=$(".collection-features-faces"),articles=[],Proto=this;if(component.length>0&&(container=component.find(".scroll-outer")),container.length>0){articles=container.find("article");var arrows=container.siblings(".page-arrows"),prev_button=arrows.find(".prev"),next_button=arrows.find(".next"),container_width=container.width(),first_article_width=articles.length>0?$(articles).first().outerWidth(!0):0,middle_article_width=articles.length>2?$(articles[1]).outerWidth(!0):0,last_article_width=articles.length>1?$(articles).last().outerWidth(!0)-24:0,total_articles_width=first_article_width;total_articles_width+=middle_article_width*(articles.length-2),total_articles_width+=last_article_width;var scroll_width=Math.round(.9*container_width),currentScroll=!1;Proto.init=function(){articles.length>0&&(total_articles_width<=container_width&&(prev_button.fadeOut(500),next_button.fadeOut(500)),0===container.scrollLeft()&&prev_button.fadeOut(500),container.find(".scroll-inner").width(total_articles_width+24),$(container).scroll(_.throttle(function(){currentScroll=container.scrollLeft(),0===currentScroll?prev_button.fadeOut(500):prev_button.fadeIn(500),currentScroll>=Math.floor(total_articles_width-container_width-10)?next_button.fadeOut(500):next_button.fadeIn(500)},500)),$(window).resize(_.throttle(function(){container_width=container.width(),scroll_width=Math.round(.9*container_width),total_articles_width<=container_width?(prev_button.fadeOut(500),next_button.fadeOut(500)):next_button.fadeIn(500)},500)),prev_button.find("a").click(function(evt){evt.preventDefault();var target_scroll=container.scrollLeft()-scroll_width;target_scroll<=0&&(target_scroll=0),container.animate({scrollLeft:target_scroll},500,function(){0===container.scrollLeft()&&prev_button.fadeOut(500)})}),next_button.find("a").click(function(evt){evt.preventDefault();var target_scroll=container.scrollLeft()+scroll_width;target_scroll>total_articles_width-container_width&&(target_scroll=total_articles_width-container_width),container.animate({scrollLeft:target_scroll},500,function(){(container.scrollLeft()<target_scroll||container.scrollLeft()>=Math.floor(total_articles_width-container_width-10))&&next_button.fadeOut(500)})}))}}}});
Modulr.define("fox-news.hp:modules/header-market",["require","jquery","helper","core.plugins:MarketWidget"],function(require,$,Helper){function Markets(){this.marketOptions={holder:$(".markets-nav .market-data > ul"),header:!0}}var MarketWidget=require("core.plugins:MarketWidget");return Markets.prototype.init=function(){MarketWidget.init(this.marketOptions)},new Markets});
Modulr.define("fox-news.hp:modules/image.lazy.load",["require","jquery","helper","core.plugins:ImageLazyLoad"],function(require,$,Helper){var LazyLoad=require("core.plugins:ImageLazyLoad");return function(){LazyLoad($("img[data-src]"),500,function(elm){})}});
Modulr.define("fox-news.hp:modules/left.rail.inject",["require","jquery","lodash","helper","core.plugins:OnWindowResize"],function(require,$,_,Helper){var OnWindowResize=require("core.plugins:OnWindowResize"),LeftVideo=require("modules/left.rail.video"),leftVid=new LeftVideo,DESK_INIT=!0,TAB_INIT=!0,OBJ=!0;return function(){Proto=this;var RAILS,current_view,loaded_view=Helper.getView();Proto.render=function(args){if("object"!==$.type(args))return OBJ=!1,!1;if(RAILS=args.rails,"mobile"===loaded_view||"tablet"===loaded_view){var rail_clone=Proto.clone(RAILS.target);Proto.inject(RAILS.alt_target,rail_clone)}return RAILS},OnWindowResize(function(){if(!OBJ)return!1;current_view=Helper.getView(),current_view="mobile"===current_view?"tablet":current_view,loaded_view="mobile"===loaded_view?"tablet":loaded_view,current_view!==loaded_view&&(Proto.stateCheck(loaded_view,current_view),loaded_view=current_view)},100),Proto.stateCheck=function(loaded,current){if(!OBJ)return!1;var t_2_d="tablet"===loaded&&"desktop"===current,d_2_t="desktop"===loaded&&"tablet"===current;if(t_2_d&&TAB_INIT)Proto.cloneReplace(RAILS.alt_target,function(){Proto.embedVid(RAILS.target,!0)}),RAILS.target.addClass("show"),TAB_INIT=!1;else if(d_2_t&&DESK_INIT){var rail_clone=Proto.clone(RAILS.target);Proto.cloneReplace(rail_clone,function(){Proto.embedVid(rail_clone,!1)}),Proto.inject(RAILS.alt_target,rail_clone),RAILS.target.removeClass("show"),DESK_INIT=!1}else{var exchange=t_2_d?"t2d":"d2t";Proto.fakeIt(RAILS.target,RAILS.alt_target,exchange)}},Proto.clone=function(rail){var twinRail=rail.clone();return rail.addClass("hide"),twinRail},Proto.cloneReplace=function(twinRail,callback){twinRail.find(".promo-watch-live").html('   <div class="m">                <a href="//video.foxnews.com/v/1241186546001">                  <div class="live-stream" data-video-id="4018052353001" data-video-domain="foxnews">                      <img src="//qa.global.fncstatic.com/static/orion/styles/img/fox-news/bg/default-video.png" alt="Live Stream">                  </div>                </a>            </div>            <div class="logo">                <a href="//www.foxnewsgo.com/">                    <img src="//qa.global.fncstatic.com/static/orion/styles/img/fox-news/bg/fn-logo-watch-now.png" alt="Fox News">                </a>            </div>            <div class="info">                    <span class="pill live-now"><a href="" class="pill-link">On Now</a></span>                    <div class="title"><a href="#"></a></div>            </div>        '),"function"==typeof callback&&callback()},Proto.embedVid=function(target,show){leftVid.render({embed:target,show:show})},Proto.inject=function(alt_rail,clone){if(alt_rail.length<1||clone.length<1)return!1;alt_rail.html(clone)},Proto.fakeIt=function(rail,rail_dupe,exchange){"d2t"===exchange?(rail.removeClass("show").addClass("hide"),rail_dupe.removeClass("hide").addClass("show")):"t2d"===exchange&&(rail_dupe.removeClass("show").addClass("hide"),rail.removeClass("hide").addClass("show"))}}});
Modulr.define("fox-news.hp:modules/left.rail.video",["jquery","require","helper","core.video:api","core.plugins:WatchNow","models/video.controls"],function($,require,Helper,Video){var WatchNow=require("core.plugins:WatchNow"),VideoControls=require("models/video.controls"),loaded_view=Helper.getView(),FeedParser=new WatchNow({site:"foxnews",parserOnly:!0}),DOOMSDAY_VID=!!function(){var collection,video,doomsday=Helper.isDoomsday(),ret=!1;return doomsday&&(collection=$("section.collection-doomsday"),video=collection.find(".has-live-stream").length,ret=video>0),ret}(),BIGTOP_VID=!!function(){var article=$("main article:first.story-1"),video=article.hasClass("is-video"),ret=!1;return video&&(ret=!0),ret}();return new function(){function normalize(data){var parserConf={imagePatternFull:"//apps.foxnews.com/schedule_new/img/default/${machineTitle}.jpg",maxLatest:1};return FeedParser.parseScheduleData(data,parserConf)}var Proto=this,VideoInstance=null,initialClick=!0;Proto.render=function(elems){var visible=elems[0].is(":visible")?elems[0]:elems[1],watch=visible.find(".promo-watch-live"),stream=watch.find(".live-stream");if(0===stream.length)return!1;$.ajax({url:"//apps.foxnews.com/schedule_new/feed/fox-news.jn",dataType:"jsonp",jsonpCallback:"FOX_Header_FN_Watch_Feed_Live",cache:!0}).done(function(data){Proto.setInfo(elems,normalize(data),function(){Proto.prop(stream,normalize(data))})})},Proto.setInfo=function(elems,data,callback){$.each(elems,function(i,val){var is_vis=!!$(this).is(":visible"),target=val.find(".promo-watch-live"),info=target.find(".info"),logo=target.find(".logo");info.find(".title a").attr({href:data.link}).html(data.title),info.find(".pill.live-now a").attr("href","//video.foxnews.com/v/1241186546001/?#sp=watch-live"),logo.find("a").attr("href","//video.foxnews.com/v/1241186546001/?#sp=watch-live"),"mobile"===loaded_view&&target.find(".m").addClass("hide"),DOOMSDAY_VID||BIGTOP_VID||!is_vis||callback()})},Proto.prop=function(stream,data){if("mobile"===loaded_view)return!1;var properties={app:{rules:["noAds","foxnews","autoplay","noTracking","noTitleBar","noKrux","playername:LIVE_VIDEO"]},player:{mode:"html-auto",usersettings:{enabled:!1},controls:{mode:"none"},hls:{quality:{startLevel:-1}}}};VideoInstance=Video.embed(stream,properties),VideoControls.addInstance(stream,VideoInstance)},Proto.pause=function(){VideoInstance&&VideoInstance.trigger("pause")},Proto.play=function(){VideoInstance&&VideoInstance.trigger("play")},$(".promo-watch-live .m a").on("click",function(){initialClick&&"tablet"===loaded_view&&(VideoInstance.trigger("play"),initialClick=!1)})}});
Modulr.define("fox-news.hp:modules/modal.video",["require","jquery","helper"],function(require,$,Helper){"mobile"!==Helper.getView()&&require(["core.components:modal","modules/left.rail.video","models/video.controls"],function(Modal,RailVideo){function filter(){return!!/video\.fox(news|business)\.com\/v\/([0-9]+)\//.test($(this).attr("href")||"")}function set(items){items=items.filter(filter),0!==items.length&&items.on("click",function(evt){var videoId=getVideoId($(this)),domain=$(this).attr("href").match(/fox(news|business)/),config={domain:domain[0]?domain[0]:"foxnews"};if(videoId)return evt.preventDefault(),trigger(videoId,config),!1})}function getVideoId(el){var match=(el.attr("href")||"").match(/video\.fox(news|business)\.com\/v\/([0-9]+)\//);return match&&match[2]?match[2]:null}function trigger(videoId,config){if(!Instance){Instance=Modal.video(null)}Instance.set(videoId,config,function(VideoInstance){VideoControls.trigger("play")}),Instance.on("close",function(){RailVideo.play()})}var Instance=null,VideoControls=require("models/video.controls");!function(container){set(container.find('.content > .article a[href*="video.fox"]'))}($(".collection-clips")),function(container){set(container.find('.title > a[href*="video.fox"], .m a[href*="video.fox"]'))}($(".js-schedule")),function(container){set(container.find('.content > .article a[href*="video.fox"]'))}($(".collection-must-read")),function(container){set(container.find('.content > .article a[href*="video.fox"]'))}($(".collection-opinion")),function(container){set(container.find('.content .video-ct a[href*="video.fox"]'))}($(".collection-features-faces")),function(container){container.find(".content > .article").each(function(){var article=$(this);article.hasClass("story-1")||set(article.find('> .info a[href*="video.fox"], > .m a[href*="video.fox"]')),set(article.find('> .info a[href*="video.fox"]'))}),set(container.find('.content > .article > .info .content .related a[href*="video.fox"]'))}($(".collection-spotlight")),function(container){container.find(".content .latest .article").each(function(){set($(this).find('> .info a[href*="video.fox"], > .m a[href*="video.fox"]'))}),set(container.find('.content .article-list .info a[href*="video.fox"]'))}($(".collection-section")),function(container){set(container.find('.content a[href*="video.fox"]'))}($(".collection-article-list"))})});
Modulr.define("fox-news.hp:modules/newsletter",["require","jquery","lodash","helper","core.components:newsletter"],function(require,$,_){var Newsletter=(require("helper"),require("core.components:newsletter"));return new function(){this.init=function(SLID){var form=$("form.form-newsletter");if(0===form.length)return!1;var input=form.find("input[type='email']"),error_msg=(form.find("input[type='submit']"),form.siblings(".message.error")),success_msg=form.siblings(".message.success"),close_btn=form.siblings(".message").find(".close a"),onError=function(){form.addClass("hide"),error_msg.removeClass("hide")},onSuccess=function(){form.addClass("hide"),success_msg.removeClass("hide")};Newsletter.set({elm:form,SLID:SLID||"C2F278094FACCEA62391025B7A52D8EB",INPUT:input,INPUT_STR:" ",onError:onError,onSuccess:onSuccess}),close_btn.on("click",function(evt){evt.preventDefault(),input.val(" "),success_msg.addClass("hide"),error_msg.addClass("hide"),form.removeClass("hide")})}}});
Modulr.define("fox-news.hp:modules/opinion",["require","jquery","helper","models/load.more"],function(require,$,Helper){var LoadMore=require("models/load.more"),container=$(".js-opinion");if(0!==container.length){var list=(container.find("> header"),container.find("> footer"),container.find("> .content"));list.children("article");!function(){if("mobile"===Helper.getView()){new LoadMore(container,{show:3,next:3}).on("click",function(){})}}()}});
Modulr.define("fox-news.hp:modules/podcast",["require","jquery","lodash","helper","howler","models/video.controls","modules/left.rail.video"],function(require,$,_){var Howl=(require("helper"),require("howler")),VideoControls=require("models/video.controls"),VideoMiddleware=(require("modules/left.rail.video"),{pause:function(){VideoControls.pause()},play:function(){VideoControls.play()}});return function(){function PodcastPlayer(){this.audio=!1,this.loaded=!1,this.duration=null,this.elapsed=null,this.seeker=null,this.ui={},this.init()}0!==$(".sidebar-columns .item.item-podcast:first").length&&(PodcastPlayer.prototype={constructor:PodcastPlayer,init:function(){this.setUI().then(this.getFeed).then(this.findAudio).then(this.createAudioPlayer).then(this.initUI).catch(function(error){podcast.log(error)})},setUI:function(){var podcast=this,wrapper=$(".item-podcast");return this.ui.content=$(".content",wrapper),this.ui.playButton=$(".play",wrapper),this.ui.volumeButton=$(".volume",wrapper),this.ui.progressBar=$(".progress-bar",wrapper),this.ui.progressBarInner=$(".progress",wrapper),this.ui.timeHolder=$(".time",wrapper),this.ui.elapsedTime=$(".elapsed-time",wrapper),this.ui.totalDuration=$(".total-duration",wrapper),this.ui.date=$(".date",wrapper),this.ui.control=$(".control",wrapper),this.ui.control.removeClass("hide"),this.ui.progressBar.addClass("preload"),this.ui.timeHolder.addClass("hide"),this.ui.playButton.on("click",function(event){$(this).hasClass("play")?($(this).removeClass("play").addClass("pause"),podcast.play()):($(this).removeClass("pause").addClass("play"),podcast.pause())}),VideoControls.on("play",function(){podcast.audio.playing()&&(podcast.log("Video playing, pausing audio"),podcast.ui.playButton.trigger("click"))}),$.when(podcast)},getFeed:function(podcast){var promise=$.Deferred();return $.ajax({url:podcast.ui.content.data("feed"),cache:!0,jsonpCallback:"fxn_podcast",dataType:"jsonp",success:function(feed){podcast.log("Feed retrieved",feed),promise.resolve(podcast,feed)},error:function(jqXHR,text,error){promise.reject("Feed not found - "+jqXHR.status+" - "+text)}}),promise},findAudio:function(podcast,feed){var promise=$.Deferred(),item=feed.items[0];if(item){var mp3=!(!item.attachments||"audio/mpeg"!==item.attachments[0].mime_type)&&item.attachments[0];if(mp3)return podcast.log("Audio found",mp3),podcast.date=item.date_published,promise.resolve(podcast,mp3)}return promise.reject("No audio found")},createAudioPlayer:function(podcast,mp3){var promise=$.Deferred();return podcast.audio=new Howl({src:[mp3.url],ext:["mp3"],preload:!1,html5:!0,onload:function(){podcast.loaded=!0,podcast.duration=this.duration(),podcast.log("Audio player loaded"),promise.resolve(podcast)},onloaderror:function(id,error){promise.reject(error)},onend:function(){podcast.resetUI()}}),promise},initUI:function(podcast){podcast.ui.totalDuration.text(podcast.getDurationFormatted()),podcast.ui.date.text(podcast.getDateFormatted()),podcast.ui.elapsedTime.text("00:00"),podcast.ui.control.removeClass("hide"),podcast.ui.progressBar.removeClass("preload"),podcast.ui.timeHolder.removeClass("hide"),podcast.log("UI Initialized"),podcast.ui.volumeButton.on("click",function(event){$(this).hasClass("volume-up")?($(this).removeClass("volume-up").addClass("volume-down"),podcast.mute()):($(this).removeClass("volume-down").addClass("volume-up"),podcast.unmute())}),podcast.ui.progressBar.on("click",function(event){podcast.seekToPosition(event.offsetX)})},play:function(){this.audio&&(this.addProgressSeeker(),this.log("Audio playing"),VideoMiddleware.pause(),this.audio.play(),VideoMiddleware.pause())},pause:function(){this.audio&&(this.removeProgressSeeker(),this.log("Audio paused"),this.audio.pause(),VideoMiddleware.play())},mute:function(){this.audio&&(this.log("Audio muted"),this.audio.mute(!0))},unmute:function(){this.audio&&(this.log("Audio unmuted"),this.audio.mute(!1))},formatSecondstoReadable:function(seconds){var d=Number(seconds),m=Math.floor(d%3600/60),s=Math.floor(d%3600%60);return("0"+m).slice(-2)+":"+("0"+s).slice(-2)},setDuration:function(duration){this.duration=duration},getDurationFormatted:function(){return this.formatSecondstoReadable(this.duration)},getDateFormatted:function(){var days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months=["January","February","March","April","May","June","July","August","September","October","November","December"],date=new Date(this.date);return days[date.getDay()]+" "+months[date.getMonth()]+" "+date.getDate()+", "+date.getFullYear()},seekToPosition:function(offsetX){var totalWidth=$(this.ui.progressBar).width(),percent=offsetX/totalWidth*100;this.setProgressBarUI(percent);var position=percent/100*this.duration;this.audio.seek(position),this.log("Audio scrubbed to "+this.formatSecondstoReadable(position)),this.setElapsedTimeUI(position)},addProgressSeeker:function(){this.seeker=setInterval(function(){var position=this.audio.seek(),percent=position/this.duration*100;this.setProgressBarUI(percent),this.setElapsedTimeUI(position)}.bind(this),1e3)},removeProgressSeeker:function(){clearInterval(this.seeker)},setProgressBarUI:function(percent){this.ui.progressBarInner.css("width",percent+"%")},setElapsedTimeUI:function(seconds){this.elapsed=this.formatSecondstoReadable(seconds),this.ui.elapsedTime.text(this.elapsed)},resetUI:function(){this.ui.progressBarInner.css("width",0),this.ui.playButton.removeClass("pause").addClass("play"),this.ui.elapsedTime.text("00:00"),this.removeProgressSeeker()},log:function(){var args=[].slice.call(arguments),message=args.shift(),dump=1===args.length?args.shift():0===args.length?"":args;console.log("Podcast Player: "+message,dump)}},new PodcastPlayer)}});
Modulr.define("fox-news.hp:modules/river.bigtop.video",["require","jquery","helper","core.video:api","core.base:utils/page.reload","models/video.controls"],function(require,$,Helper,Video){var VideoControls=require("models/video.controls"),target=$("main article:first.story-1"),video_target=target.find("> div.m"),articleEl=target.closest("article"),PageReload=require("core.base:utils/page.reload");return new function(){var Proto=this;Proto.init=function(){Proto.render()},Proto.render=function(){if(target.hasClass("is-video")&&video_target.length>0){var properties={app:{rules:["heartbeat"],overlay:{enabled:!0,event:function(trigger){target.find("a").on("click",function(evt){return PageReload.clear(),evt.preventDefault(),trigger(),!1})}}},player:{autoplay:!1}},instance=Video.embed(video_target,properties);VideoControls.addInstance(video_target,instance),(articleEl.hasClass("is-video")||articleEl.closest("article").hasClass("has-video"))&&(articleEl.addClass("has-video"),instance.on("amp.play",function(){PageReload.clear()}),instance.on("amp.ads.started",function(){PageReload.clear()}),instance.on("amp.pause",function(){PageReload.reset()}),instance.on("amp.ads.pause",function(){PageReload.reset()}))}}}});
Modulr.define("fox-news.hp:modules/river",["require","jquery","helper","modules/river.bigtop.video","isa"],function(require,$,Helper){var BigTopVideo=require("modules/river.bigtop.video"),GPT=require("isa").provider("gpt"),target=$("main article:first.story-1 > div.m");target.closest("article");return function(){BigTopVideo.init(),$(".js-river .collection-spotlight .content > .article.story-2:first").each(function(){var target=$(this);$('<div class="ad-container mobile ad-h-50">                    <div class="ad gpt" data-ad-pos="mobile" data-ad-size="320x50,300x250"></div>                </div>').insertAfter(target);var ad=target.next(".mobile.ad-h-50").find("> .ad.gpt:first:visible");ad.length>0&&GPT.loadDynamicAd(ad)}),$(".collection-section.what-to-watch").each(function(){var target=$(this);$('<div class="ad-container mobile ad-h-191 yieldmo">                    <div class="ad gpt" data-ad-pos="footer" data-ad-size="359x191" data-ad-lz="1"></div>                </div>').insertAfter(target);var ad=target.next(".mobile.ad-h-191").find('.ad.gpt[data-ad-pos="footer"]:first:visible');ad.length>0&&GPT.loadDynamicAd(ad)})}});
Modulr.define("fox-news.hp:modules/sticky.rail",["require","jquery","lodash","helper","core.plugins:OnWindowResize"],function(require,$,_,Helper){var win=$(window),OnWindowResize=($(document),require("core.plugins:OnWindowResize"));return function(target){var scroll,TABLET,MOBILE,Proto=this,INIT=!0,top=$(".site-header"),initHeight=Math.floor(target.stickyArea.height()),bottomLimit=Math.floor(target.stickyArea.offset().top+target.stickyArea.outerHeight(!0)),heights={};Proto.stickTop=function(rail){var sticky_reg=rail.stickyRegion,topper=top.position().top+top.outerHeight(!0)+target.preContent.outerHeight(!0);if(sticky_reg.hasClass("sticky-bottom"))return!1;scroll>=topper+12&&rail.fullHt+scroll<bottomLimit+12?sticky_reg.hasClass("sticky-top")||INIT||sticky_reg.addClass("sticky-top").removeClass("limit"):rail.fullHt+scroll>=bottomLimit+12?sticky_reg.hasClass("limit")&&!INIT||sticky_reg.removeClass("sticky-top").addClass("limit"):scroll<topper+12&&sticky_reg.removeClass("limit sticky-top")},Proto.stickBottom=function(rail){var sticky_reg=(rail.elem,rail.stickyRegion);if(sticky_reg.hasClass("sticky-top"))return!1;scroll+win_height>rail.bottom&&win_height+scroll<bottomLimit?sticky_reg.hasClass("sticky-bottom")||sticky_reg.addClass("sticky-bottom").removeClass("limit"):win_height+scroll>=bottomLimit?INIT&&!sticky_reg.hasClass("limit")?sticky_reg.removeClass("sticky-bottom").addClass("limit"):sticky_reg.hasClass("sticky-bottom")&&!sticky_reg.hasClass("limit")&&sticky_reg.removeClass("sticky-bottom").addClass("limit"):scroll+win_height<=rail.bottom&&sticky_reg.removeClass("limit sticky-bottom")},Proto.removeClasses=function(){$(".sticky-region").each(function(){$(this).removeClass("sticky-top sticky-bottom limit")})};var scrollCond=function(){if(INIT&&calcHeights(),TABLET||MOBILE)return!1;scroll=win.scrollTop(),win_height=win.outerHeight(!0),scrollBottom=scroll+win.outerHeight(!0),bottomLimit=Math.floor(target.stickyArea.offset().top+target.stickyArea.outerHeight(!0));var topBoundary=top.position().top+top.outerHeight(!0)+target.preContent.outerHeight(!0);for(var rail in heights)Math.floor(heights[rail].elem.outerHeight())!==Math.floor(target.stickyArea.outerHeight())&&(heights[rail].fullHt<=win_height?Proto.stickTop(heights[rail]):heights[rail].fullHt>win_height-topBoundary?Proto.stickBottom(heights[rail]):Proto.removeClasses());INIT=!1},fired=!1,calculate=null;win.bind("mousewheel DOMMouseScroll wheel touchmove scroll gesturechange",function(event){fired||(fired=!0,calcHeights()),scrollCond(),clearTimeout(calculate),calculate=setTimeout(function(){fired=!1,calcHeights()},100)}),OnWindowResize(function(){var currentHeight=Math.floor($(".sticky-columns").height());currentHeight!==initHeight&&(Proto.removeClasses(),INIT=!0,TABLET="tablet"===Helper.getView(),MOBILE="mobile"===Helper.getView(),initHeight=currentHeight),scrollCond()},250);var calcHeights=function(){var num=0,rail={};TABLET="tablet"===Helper.getView(),MOBILE="mobile"===Helper.getView(),_.forIn(target.rails,function(value,key){var fullVal=value.rail.find(".sticky-region").outerHeight(!0)+parseInt(value.rail.css("padding-top").replace("px",""),10),topVal=value.rail.offset().top+parseInt(value.rail.css("padding-top").replace("px",""),10),bottomVal=topVal+fullVal;num++,rail={elem:value.rail,stickyRegion:value.stickyRegion,fullHt:Math.floor(fullVal),top:Math.floor(topVal),bottom:Math.floor(bottomVal)},heights[num]=rail})};win.on("load",function(){scrollCond(),TABLET="tablet"===Helper.getView(),MOBILE="mobile"===Helper.getView()})}});
Modulr.define("fox-news.hp:modules/timestamp",["require","jquery","lodash","helper","core.plugins:DateTime"],function(require,$,_){var Helper=require("helper"),DateTime=require("core.plugins:DateTime");return new function(){var CONFIG={container_selector:".meta .time",attribute_name:"data-time-published",attribute_formatted:"timePublished",auto_update:!1,update_interval_in_min:1},components=[],timer=!1,now=Helper.getCurrentTime(),Proto=this;Proto.collector=function(){components.length=0;var elements=$(CONFIG.container_selector+"["+CONFIG.attribute_name+"]");_.forEach(elements,function(item){var attr,ignore,element=$(item);if(attr=element.data(CONFIG.attribute_formatted),ignore=element.hasClass("live-video"),attr&&!ignore){var then=new Date(attr);components.push({element:element,then:then,delta:now-then,diff:{},label:""})}})},Proto.calculator=function(increment){_.forEach(components,function(item){var formattedText="",previousText=item.label;increment&&(item.delta+=increment);var delta=item.delta;if(item.diff={seconds:Math.floor(delta/1e3),mins:Math.floor(delta/6e4),hours:Math.floor(delta/36e5),days:Math.floor(delta/864e5)},item.diff.days>6){formattedText=DateTime(item.then,"${month} ${ddTH}");var yearThen=item.then.getFullYear();yearThen!==now.getFullYear()&&(formattedText+=", "+yearThen),item.label=formattedText}else formattedText=function(label){return[item.diff[label],item.diff[label]>1?label:label.substr(0,label.length-1),"ago"].join(" ")},item.diff.hours>23?item.label=formattedText("days"):item.diff.mins>59?item.label=formattedText("hours"):item.diff.seconds>59?item.label=formattedText("mins"):item.label="just in";var rawTime={alert:!1,item:item,label:item.label};item.diff.mins<60?previousText!==item.label&&item.element.text(item.label):rawTime.alert=!0,item.element.data("rawTimestamp",rawTime),item.element.trigger("evt.rawTimestamp",rawTime)})},Proto.init=function(){Proto.trigger({auto_update:"true"})},Proto.trigger=function(configuration){if(configuration&&(CONFIG=_.merge(CONFIG,configuration)),Proto.collector(),Proto.calculator(),CONFIG.auto_update){var updateInterval=6e4*CONFIG.update_interval_in_min;timer=setInterval(function(){Proto.calculator(updateInterval)},updateInterval)}}}});
Modulr.define("fox-news.hp:modules/tracking",["require","jquery","lodash","helper","isa"],function(require,$,_,Helper,ISA){function set(target,code,adCode){target.each(function(){var atag=$(this);atag.parent("span").hasClass("eyebrow")?Campaign.setCode(atag,brow(code),adCode||code):Campaign.setCode(atag,code,adCode)})}function code(){var args=Array.prototype.slice.call(arguments);return args.unshift(PREFIX),args.join("")}function inc(i){return"_"+(i+1)}function brow(code){return code+"_e"}var Campaign=ISA.provider("intCmp"),PREFIX="hp1",DYNAMIC={};return function(container,id){Helper.isDoomsday()&&(set(container.find(".article.story-1 .m a, .info-header h2 a"),code("dd")),container.find(".content .related ul li").each(function(i){set($(this).find("a"),code("dd","r",inc(i)),code("dd"))}))}($(".collection-doomsday")),DYNAMIC["hot-topics"]=function(container,id){var trigger=function(){container.find(".rotate-items li a").each(function(i){set($(this),code("ht",inc(i)),code("ht"))})};return trigger(),trigger}($(".hot-topics")),function(container,id){var list=container.find(".rotate-items");list.find("li.stock a").each(function(i){set($(this),code("mt","_",inc(i)))}),set(list.find("li.more-markets a"),code("mt","mo"))}($(".market-data")),function(container,id){set(container.find("a"),code("sch","_1"),code("sch"))}($(".promo-channel")),function(container,id){set(container.find("a"),code("sch","_2"),code("sch"))}($(".promo-image")),function(container,id){set(container.find("a"),code("wtvn"))}($(".promo-watch-live")),function(container,id){container.find(".content > article").each(function(i){set($(this).find("a"),code("ec",inc(i)),code("ec"))})}($(".collection-clips")),function(container,id){container.find(".content > article").each(function(i){var iter=Helper.isDoomsday()?i+2:i+1;set($(this).find("> .m a, .info-header a, .info > .content > .dek a"),code("bt",iter),code("bt")),$(this).find(".info > .content > .related ul li").each(function(ii){set($(this).find("a"),code("bt",iter,inc(ii)),code("bt"))})})}($(".main-primary .collection-spotlight")),function(container,id){container.find(".content > article").each(function(i){set($(this).find("a"),code("r",inc(i)),code("r"))})}($(".main-primary .collection-article-list")),function(container,id){container.find(".content > article").each(function(i){set($(this).find("a"),code("mr",inc(i)),code("mr"))})}($(".collection-must-read")),function(container,id){container.find(".content > article").each(function(i){set($(this).find("a"),code("op",inc(i)),code("op"))})}($(".collection-opinion")),function(container,id){set(container.find('input[type="submit"]'),code("nl"))}($(".promo-newsletter")),function(container,id){container.find(".content .scroll-inner > article").each(function(i){set($(this).find("a"),code("ff",inc(i)),code("ff"))})}($(".collection-features-faces")),function(container,id){container.each(function(i){var iter=i+1;set($(this).find(".content > .latest a"),code("s",iter),code("s")),$(this).find(".content > .article-list > article").each(function(ii){set($(this).find("a"),code("s",iter,"_c",ii+1),code("s"))})})}($(".post-content .collection-section")),function(container,id){container.each(function(i){var iter=i+1;set($(this).find(".nav-title a"),code("fs",iter),code("fs")),$(this).find("> ul li").each(function(ii){set($(this).find("a"),code("fs",iter,inc(ii)),code("fs"))})})}($(".site-footer .inner:first > nav")),function(container,id){container.each(function(i){var iter=i+1;set($(this).find(".nav-title a"),code("ms",iter),code("ms")),$(this).find("> ul li").each(function(ii){set($(this).find("a"),code("ms",iter,inc(ii)),code("ms"))})})}($(".expandable-nav > .section-nav .inner > nav")),new function(){this.update=function(id){id&&"function"==typeof DYNAMIC[id]&&DYNAMIC[id]()}}});
Modulr.define("fox-news.hp:modules/weather",["require","jquery","helper","akamai.location"],function(require,$,Helper,location){return new function(){var container=$(".site-header .weather"),WEATHER_FEED_LOCAL=!1,Proto=this;Proto.getFeedURL=function(){var zipCode=$.cookie("FXN_w_locinfo")||location.zipRange;/^([0-9]){5}.*$/.test(zipCode)?(zipCode=zipCode.substring(0,5),zipCode="/feeds/web/weather/details/zip/{zipCode}.json".replace("{zipCode}",zipCode),WEATHER_FEED_LOCAL=zipCode):WEATHER_FEED_LOCAL=!1},Proto.getWeatherDetails=function(callback){var preferences={url:(/foxnews.com$/.test(window.location.hostname)?"//www.foxnews.com":"")+WEATHER_FEED_LOCAL,data:{cb:Helper.cacheBuster(2)},dataType:"jsonp",jsonpCallback:"fxn_weather",async:!0};$.ajax(preferences).done(function(data){data&&data.weatherData&&callback&&"function"==typeof callback&&callback({city:data.weatherData.cityName,state:data.weatherData.stateShort,forecast:data.weatherData.forecast,temp:data.weatherData.currentTemp})})},Proto.init=function(){container.length>0&&(Proto.getFeedURL(),WEATHER_FEED_LOCAL&&Proto.getWeatherDetails(function(response){container.find(".location").text(response.city+", "+response.state),container.find(".condition").text(response.forecast),container.find(".temp").text(response.temp+"Â°")}))}}});
!function(Modulr,FNC){if(Modulr.getInstance("fox-news.hp"))return!1;var config={instance:"fox-news.hp",baseDomain:FNC.CDN.domain,baseUrl:"/static/orion/scripts/fox-news/hp/app",masterFile:"/static/orion/scripts/core/utils/modulr/master.js",paths:{},packages:["core.plugins","core.video","core.components","core.templates"],shim:{jquery:{src:"/static/orion/scripts/core/utils/jquery/core.js",exports:"jQuery"},lodash:{src:"/static/orion/scripts/core/utils/lodash.js",exports:"_"},"akamai.time":{src:"//global.fncstatic.com/static/v/all/js/geo.js",exports:"AKAMAI_TIME_HELPER"},"akamai.location":{src:"//global.fncstatic.com/static/v/all/js/geo.js",exports:"CONST_Akamai_GEO"},modernizr:{src:"/static/orion/scripts/core/utils/modernizr.js",exports:"Modernizr"},howler:{src:"/static/orion/scripts/core/utils/howler.js",exports:"Howl"}}},Instance=Modulr.config(config);Instance.define("cdn",function(){return FNC.CDN}),Instance.define("isa",function(){return FNC.ISA}),Instance.require(["jquery"],function($){var isMobile=$("body").hasClass("vp-mobile-tablet"),template=isMobile?"mobile-main":"main";Instance.require([template])})}(window.Modulr,window.FNC);